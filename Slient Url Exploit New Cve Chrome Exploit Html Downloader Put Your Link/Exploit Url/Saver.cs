using System;
using System.IO;
using System.Text;
using System.Windows.Forms;

namespace PlayStation_Checker_by_Halo
{
	// Token: 0x02000023 RID: 35
	internal static class Saver
	{
		// Token: 0x06000161 RID: 353 RVA: 0x0000E714 File Offset: 0x0000C914
		public static void SaveThis(string content, SavePath path, RichTextBox rtb = null, string extraPath = "")
		{
			try
			{
				string str = string.Empty;
				try
				{
					switch (path)
					{
					case SavePath.Good:
						str = "Goods";
						try
						{
							rtb.Text = rtb.Text + Encoding.UTF8.GetString(Encoding.UTF8.GetBytes(content)) + Environment.NewLine;
							goto IL_176;
						}
						catch (Exception)
						{
							goto IL_176;
						}
						break;
					case SavePath.Guard:
						break;
					case SavePath.TwoStep:
						str = "EmailVerfications";
						goto IL_176;
					case SavePath.Bad:
						str = "Bads";
						goto IL_176;
					case SavePath.HasDeactive:
						str = "Deactiveable";
						try
						{
							rtb.Text = rtb.Text + Encoding.UTF8.GetString(Encoding.UTF8.GetBytes(content)) + Environment.NewLine;
							goto IL_176;
						}
						catch (Exception)
						{
							goto IL_176;
						}
						goto IL_DD;
					case SavePath.SiteChecker:
						goto IL_DD;
					case SavePath.GoodProxies:
						goto IL_11D;
					case SavePath.RegChecked:
						str = "RegChecked " + extraPath;
						if (rtb != null)
						{
							try
							{
								rtb.Text = rtb.Text + Encoding.UTF8.GetString(Encoding.UTF8.GetBytes(content)) + Environment.NewLine;
								goto IL_176;
							}
							catch (Exception)
							{
								goto IL_176;
							}
							goto IL_168;
						}
						goto IL_176;
					case SavePath.Sensors:
						goto IL_168;
					case SavePath.BadSensors:
						str = "BadSensors";
						goto IL_176;
					default:
						str = "UnknownType";
						goto IL_176;
					}
					str = "Guards";
					goto IL_176;
					IL_DD:
					str = "SiteChecker";
					if (rtb == null)
					{
						goto IL_176;
					}
					try
					{
						rtb.Text = rtb.Text + Encoding.UTF8.GetString(Encoding.UTF8.GetBytes(content)) + Environment.NewLine;
						goto IL_176;
					}
					catch (Exception)
					{
						goto IL_176;
					}
					IL_11D:
					str = "GoodProxies";
					goto IL_176;
					IL_168:
					str = "Sensors";
					IL_176:
					Application.DoEvents();
					using (StreamWriter streamWriter = new StreamWriter(Cracker.AutoSavePath + "/" + str + ".txt", true))
					{
						streamWriter.Write(content + Environment.NewLine);
					}
					Application.DoEvents();
				}
				catch (Exception ex)
				{
					try
					{
						using (StreamWriter streamWriter2 = new StreamWriter(Cracker.AutoSavePath + "/" + str + " (2).txt", true))
						{
							streamWriter2.Write(content + Environment.NewLine);
						}
					}
					catch (Exception)
					{
						try
						{
							File.AppendAllText(Directory.GetCurrentDirectory() + "/SaveErros.txt", string.Concat(new string[]
							{
								"Content: ",
								content,
								Environment.NewLine,
								"        SavePath: ",
								path.ToString(),
								Environment.NewLine,
								"        ExceptionMessage: ",
								ex.Message,
								Environment.NewLine
							}));
						}
						catch (Exception)
						{
						}
					}
				}
			}
			catch (NullReferenceException)
			{
			}
			catch (Exception)
			{
			}
		}
	}
}
